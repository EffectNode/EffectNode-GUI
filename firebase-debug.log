[debug] [2018-07-31T03:39:11.616Z] ----------------------------------------------------------------------
[debug] [2018-07-31T03:39:11.618Z] Command:       /Users/lok/.nvm/versions/node/v8.10.0/bin/node /Users/lok/.nvm/versions/node/v8.10.0/bin/firebase deploy
[debug] [2018-07-31T03:39:11.618Z] CLI Version:   4.0.0
[debug] [2018-07-31T03:39:11.618Z] Platform:      darwin
[debug] [2018-07-31T03:39:11.618Z] Node Version:  v8.10.0
[debug] [2018-07-31T03:39:11.618Z] Time:          Tue Jul 31 2018 11:39:11 GMT+0800 (HKT)
[debug] [2018-07-31T03:39:11.618Z] ----------------------------------------------------------------------
[debug] 
[debug] [2018-07-31T03:39:11.628Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2018-07-31T03:39:11.628Z] > authorizing via signed-in user
[debug] [2018-07-31T03:39:11.629Z] > refreshing access token with scopes: ["email","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","openid"]
[debug] [2018-07-31T03:39:11.629Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  
 { refresh_token: '1/aMvmF3GIgiGqVfI4r_gnQpQJfFXNNAi3DqNZ-CAQFbk',
  client_id: '563584335869-fgrhgmd47bqnekij5i8b5pr03ho849e6.apps.googleusercontent.com',
  client_secret: 'j9iVZfS8kkCEFUPaAeJV0sAi',
  grant_type: 'refresh_token',
  scope: 'email https://www.googleapis.com/auth/cloud-platform https://www.googleapis.com/auth/cloudplatformprojects.readonly https://www.googleapis.com/auth/firebase openid' } 
 Tue Jul 31 2018 11:39:11 GMT+0800 (HKT)
[debug] [2018-07-31T03:39:11.813Z] <<< HTTP RESPONSE 200
[debug] [2018-07-31T03:39:11.825Z] >>> HTTP REQUEST GET https://admin.firebase.com/v1/projects/effectnode  
  
 Tue Jul 31 2018 11:39:11 GMT+0800 (HKT)
[debug] [2018-07-31T03:39:12.757Z] <<< HTTP RESPONSE 200
[debug] [2018-07-31T03:39:12.758Z] >>> HTTP REQUEST GET https://admin.firebase.com/v1/database/effectnode/tokens  
  
 Tue Jul 31 2018 11:39:12 GMT+0800 (HKT)
[debug] [2018-07-31T03:39:13.588Z] <<< HTTP RESPONSE 200
[info] 
[info] === Deploying to 'effectnode'...
[info] 
[info] i  deploying database, storage, firestore, functions, hosting
[info] i  database: checking rules syntax...
[debug] [2018-07-31T03:39:16.366Z] >>> HTTP REQUEST PUT https://effectnode.firebaseio.com/.settings/rules.json?dryRun=true  
 {
  "rules": {
    "html-acl": {
      "$usr": {
        ".read": "$usr === auth.uid",
        ".write": "$usr === auth.uid",
        "$prj": {
          ".read": "$usr === auth.uid",
          ".write": "$usr === auth.uid"
        }
      }
    },
    "html-db": {
      "$usr": {
        "$prj": {
          ".read": true,
          ".write": "root.child('html-acl' + '/' + $usr + '/' + $prj).val() === true"
        }
      }
    },
    "refresh-db": {
      "$usr": {
        "$prj": {
          ".read": true,
          ".write": "root.child('html-acl' + '/' + $usr + '/' + $prj).val() === true"
        }
      }
    }
  }
}
 
 Tue Jul 31 2018 11:39:16 GMT+0800 (HKT)
[debug] [2018-07-31T03:39:17.414Z] <<< HTTP RESPONSE 200
[info] ✔  database: rules syntax for database effectnode is valid
[debug] [2018-07-31T03:39:17.416Z] >>> HTTP REQUEST GET https://appengine.googleapis.com/v1/apps/effectnode  
  
 Tue Jul 31 2018 11:39:17 GMT+0800 (HKT)
[debug] [2018-07-31T03:39:19.047Z] <<< HTTP RESPONSE 200
[info] i  storage: checking storage.rules for compilation errors...
[debug] [2018-07-31T03:39:19.049Z] >>> HTTP REQUEST POST https://firebaserules.googleapis.com/v1/projects/effectnode:test  
 { source: { files: [ [Object] ] } } 
 Tue Jul 31 2018 11:39:19 GMT+0800 (HKT)
[debug] [2018-07-31T03:39:20.481Z] <<< HTTP RESPONSE 200
[info] ✔  storage: rules file storage.rules compiled successfully
[info] i  firestore: checking firestore.rules for compilation errors...
[debug] [2018-07-31T03:39:20.484Z] >>> HTTP REQUEST POST https://firebaserules.googleapis.com/v1/projects/effectnode:test  
 { source: { files: [ [Object] ] } } 
 Tue Jul 31 2018 11:39:20 GMT+0800 (HKT)
[debug] [2018-07-31T03:39:21.711Z] <<< HTTP RESPONSE 200
[info] ✔  firestore: rules file firestore.rules compiled successfully
[debug] [2018-07-31T03:39:21.712Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "dependencies": {
    "cors": "^2.8.4",
    "express": "^4.16.3",
    "firebase-admin": "^5.13.1",
    "firebase-functions": "^2.0.2"
  },
  "private": true
}
[info] i  functions: ensuring necessary APIs are enabled...
[debug] [2018-07-31T03:39:21.713Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/cloudfunctions.googleapis.com/projectSettings/effectnode?view=CONSUMER_VIEW  
  
 Tue Jul 31 2018 11:39:21 GMT+0800 (HKT)
[debug] [2018-07-31T03:39:21.714Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/runtimeconfig.googleapis.com/projectSettings/effectnode?view=CONSUMER_VIEW  
  
 Tue Jul 31 2018 11:39:21 GMT+0800 (HKT)
[debug] [2018-07-31T03:39:23.363Z] <<< HTTP RESPONSE 200
[debug] [2018-07-31T03:39:23.371Z] <<< HTTP RESPONSE 200
[info] ✔  functions: all necessary APIs are enabled
[debug] [2018-07-31T03:39:23.371Z] >>> HTTP REQUEST GET https://cloudresourcemanager.googleapis.com/v1/projects/effectnode  
  
 Tue Jul 31 2018 11:39:23 GMT+0800 (HKT)
[debug] [2018-07-31T03:39:24.577Z] <<< HTTP RESPONSE 200
[debug] [2018-07-31T03:39:24.578Z] >>> HTTP REQUEST GET https://mobilesdk-pa.googleapis.com/v1/projects/316567530740:getServerAppConfig  
  
 Tue Jul 31 2018 11:39:24 GMT+0800 (HKT)
[debug] [2018-07-31T03:39:25.195Z] <<< HTTP RESPONSE 200
[info] i  storage: uploading rules storage.rules...
[debug] [2018-07-31T03:39:25.198Z] >>> HTTP REQUEST POST https://firebaserules.googleapis.com/v1/projects/effectnode/rulesets  
 { source: { files: [ [Object] ] } } 
 Tue Jul 31 2018 11:39:25 GMT+0800 (HKT)
[debug] [2018-07-31T03:39:26.420Z] <<< HTTP RESPONSE 200
[debug] [2018-07-31T03:39:26.422Z] [rules] created ruleset projects/effectnode/rulesets/c9b1635a-0761-4405-bb76-c3b7d386fee2
[info] i  firestore: uploading rules firestore.rules...
[debug] [2018-07-31T03:39:26.423Z] >>> HTTP REQUEST POST https://firebaserules.googleapis.com/v1/projects/effectnode/rulesets  
 { source: { files: [ [Object] ] } } 
 Tue Jul 31 2018 11:39:26 GMT+0800 (HKT)
[debug] [2018-07-31T03:39:26.423Z] >>> HTTP REQUEST GET https://firestore.googleapis.com/v1beta1/projects/effectnode/databases/(default)/indexes  
  
 Tue Jul 31 2018 11:39:26 GMT+0800 (HKT)
[debug] [2018-07-31T03:39:27.240Z] <<< HTTP RESPONSE 200
[debug] [2018-07-31T03:39:27.649Z] <<< HTTP RESPONSE 200
[debug] [2018-07-31T03:39:27.649Z] [rules] created ruleset projects/effectnode/rulesets/ae52bd61-8eb9-4875-8ff8-cb7201aa0bd0
[info] i  functions: preparing functions directory for uploading...
[debug] [2018-07-31T03:39:27.650Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/effectnode/configs  
  
 Tue Jul 31 2018 11:39:27 GMT+0800 (HKT)
[debug] [2018-07-31T03:39:27.993Z] <<< HTTP RESPONSE 200
[info] i  functions: packaged functions (40.16 KB) for uploading
[debug] [2018-07-31T03:39:28.453Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/effectnode/locations/us-central1/functions:generateUploadUrl  
  
 Tue Jul 31 2018 11:39:28 GMT+0800 (HKT)
[debug] [2018-07-31T03:39:29.082Z] <<< HTTP RESPONSE 200
[debug] [2018-07-31T03:39:29.083Z] >>> HTTP REQUEST PUT https://storage.googleapis.com/gcf-upload-us-central1-7f4fd41e-a8c1-40a9-884f-3663c65cb547/4aff2d06-f8e1-42b0-9ad3-d18487528833.zip?GoogleAccessId=service-316567530740@gcf-admin-robot.iam.gserviceaccount.com&Expires=1533010168&Signature=y%2FYkllO3gPKov%2Fez9M%2FvteIXjd1IPRFlpZLS9mQ1i9aNbAwmBHUSdhIGWR4%2FRIf1fmwkrwiILYolIXV6B1z8DjpzPJ853nhELysZfR91gIoD7LoE7U6ND4JT3kpk7RXEtoK5ba3ztU6P6BGmkvhPd8JCHDqSz0HMp96NSnN00iSt2bZke5AWzBdWi5WvKytXro9%2BRl7Zxw%2FPowInNtfpNR%2BjwriS7%2ByLzOggGnSyUwp2jPIy8G11slZ37Owg8kGptNHZB5oAWU31SESMUiyOWvQGfANKG85EN2FihvadKRtaoBk7iIKvJoH3FAYQ2Jp%2F7oXa5vYk2UgDCDP3jTfj3A%3D%3D  
 ReadStream {
  _readableState: 
   ReadableState {
     objectMode: false,
     highWaterMark: 65536,
     buffer: BufferList { head: [Object], tail: [Object], length: 1 },
     length: 41127,
     pipes: null,
     pipesCount: 0,
     flowing: null,
     ended: true,
     endEmitted: false,
     reading: false,
     sync: false,
     needReadable: false,
     emittedReadable: true,
     readableListening: false,
     resumeScheduled: false,
     destroyed: false,
     defaultEncoding: 'utf8',
     awaitDrain: 0,
     readingMore: false,
     decoder: null,
     encoding: null },
  readable: true,
  domain: null,
  _events: { end: [Function] },
  _eventsCount: 1,
  _maxListeners: undefined,
  path: '/var/folders/yb/flp42yx54xzg7qt00sdwlg000000gn/T/firebase-functions-9627cwYSeeRlB225.zip',
  fd: 19,
  flags: 'r',
  mode: 438,
  start: 0,
  end: Infinity,
  autoClose: true,
  pos: 131072,
  bytesRead: 41127 } 
 Tue Jul 31 2018 11:39:29 GMT+0800 (HKT)
[debug] [2018-07-31T03:39:29.530Z] <<< HTTP RESPONSE 200
[info] ✔  functions: functions folder uploaded successfully
[info] i  hosting: preparing dist directory for upload...
[debug] [2018-07-31T03:39:31.787Z] >>> HTTP REQUEST PUT https://deploy.firebase.com/v1/hosting/effectnode/uploads/-LIiPoNZxs-oJ8UJYU3q?fileCount=77&message=  
  
 Tue Jul 31 2018 11:39:31 GMT+0800 (HKT)
